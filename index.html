<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="https://cdn.jsdelivr.net/npm/danfojs@1.1.2/lib/bundle.js"></script>
<script src="https://cdn.jsdelivr.net/npm/ag-grid-community@33.3.2/dist/ag-grid-community.min.js"></script>

<script>
document.addEventListener("DOMContentLoaded", (event) => {
const gridOptions = {
  // Data to be displayed
  pagination:true,
  rowData: [],
  // Columns to be displayed (Should match rowData properties)
  columnDefs: [],
};

gridApi = agGrid.createGrid(document.querySelector("#myGrid"), gridOptions);

/*dfd.readCSV("https://raw.githubusercontent.com/pgrtiragg/tabs_files/refs/heads/master/nna-2024.tsv",{header:true,delimiter:'\t'})
.then( df=>{
   const headers = df.columns;
  
   const dynamic_headers = headers.map(field => ({ field }));
   
   const meses = ["enero","febrero","marzo"]

  const filter = df["mes"].values.map(mes=>meses.includes(mes));
  filtered= df.loc({ rows: filter })
  ///========================OK
  json=dfd.toJSON(filtered)  
  gridApi.setGridOption("columnDefs",dynamic_headers)
  gridApi.setGridOption("rowData", json)
  console.table(json)
})*/
fetch('https://raw.githubusercontent.com/pgrtiragg/tabs_files/refs/heads/master/nna-2024.tsv')
    .then(response => response.json())
    .then((data: any) => gridApi.setGridOption('rowData', data))
  
})

</script>
</head>
<div id="myGrid" style="width: 100%; height: 100vh"></div>


</html>
